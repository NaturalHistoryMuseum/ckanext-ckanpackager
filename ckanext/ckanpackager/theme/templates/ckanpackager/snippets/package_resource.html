{# Parameters:
     res: Resource object;
     pkg: Package object;
     bt_class: Class for the button icon (eg. icon-download, icon-external-link, etc.)
     bt_text: Text for the button (eg. _('Download'))
#}

{% resource 'ckanext-ckanpackager/main' %}

{% if res.datastore_active %}
    <a data-module="ckanpackager-download-link" class="packager-link btn btn-primary"
       href="{{ h.url_for_package_resource(pkg.id, res.id) }}">
      <i class="{{ bt_class }}"></i> {{ bt_text }}
    </a>
{% else %}
    <a class="packager-link btn btn-primary"
       href="{{ res.url }}">
      <i class="{{ bt_class }}"></i> {{ bt_text }}
    </a>
{% endif %}